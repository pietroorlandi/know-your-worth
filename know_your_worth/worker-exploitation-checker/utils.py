def get_prompt_exploitation_checker(
    questionnaire_schema: dict,
    worker_answers: dict,
    follow_up_questions: list,
    follow_up_answers: list,
):
    prompt = f"""Sei un assistente esperto di diritto del lavoro italiano specializzato in valutazione di sfruttamento sul lavoro. Devi rispondere in ITALIANO.
            Fai le tue considerazioni basandoti sulle informazioni ricavate dal sistema RAG e dai documenti CCNL italiani e non inventandoti cose che non sono scritte nei documenti.

            Contesto:
            - Questionario originario (20 domande):
            {questionnaire_schema}

            - Risposte iniziali del lavoratore:
            {worker_answers}

            - Follow‐up richieste per dati mancanti:
            {follow_up_questions}

            - Risposte a queste domande di approfondimento:
            {follow_up_answers}

            Obiettivo:
            1. Confronta i dati forniti con le norme CCNL per il settore e tipo di contratto specificati.
            2. Identifica eventuali discrepanze su:
            • Ore lavorate vs massime legali/CCNL  
            • Retribuzione mensile/oraria vs minimi CCNL  
            • Pagamento straordinari, ferie, festivi  
            • Coperture assicurative (INAIL, TFR, ecc.)
            3. Classifica:
            - Se trovi una o più violazioni, imposta `"status": "exploited"` e nel campo `"issues"` elenca in breve le violazioni (es. `"54h > 48h max", "800€ < 1100€ min"`).
            - Se tutto è conforme, imposta `"status": "compliant"`.

            Rispondi **solo** in JSON, senza altri commenti, nel formato:

            Caso “exploited”:
            {{
            "status": "exploited",
            "issues": [
                "Ore settimanali 54 > 48 (CCNL)",
                "Retribuzione 800€ < 1100€ (CCNL)",
                …
            ]
            }}

            Caso “compliant”:
            {{
            "status": "compliant"
            }}
            """
    return prompt


def get_prompt_query_rewriting(
    questionnaire_schema: dict,
    worker_answers: dict,
    follow_up_questions: list,
    follow_up_answers: list,
):
    prompt = f"""Sei un esperto di diritto del lavoro italiano specializzato nell'identificazione di situazioni di sfruttamento lavorativo. Il tuo compito è trasformare le informazioni raccolte da un lavoratore in query ottimizzate per un sistema RAG contenente i CCNL italiani.

    ## CONTESTO
    **Questionario base (20 domande):**
    {questionnaire_schema}

    **Risposte iniziali del lavoratore:**
    {worker_answers}

    **Domande di approfondimento:**
    {follow_up_questions}

    **Risposte di approfondimento:**
    {follow_up_answers}

    ## OBIETTIVO
    Genera frasi specifiche e mirate per interrogare il sistema RAG sui CCNL, focalizzandoti su potenziali violazioni contrattuali e situazioni di sfruttamento.

    ## AREE DI FOCUS PER LO SFRUTTAMENTO
    Concentrati su questi aspetti chiave:
    - **Orario di lavoro**: straordinari non pagati, superamento limiti orari, mancanza di riposi
    - **Retribuzione**: salari sotto soglia CCNL, ritardi nei pagamenti, mancanza di tredicesima/quattordicesima
    - **Sicurezza**: mancanza di DPI, formazione inadeguata, condizioni pericolose
    - **Contratto**: lavoro nero, contratti precari impropri, classificazione errata
    - **Diritti sindacali**: impedimenti alla sindacalizzazione, pressioni, discriminazioni
    - **Ferie e permessi**: negazione o limitazione dei diritti di riposo
    - **Ambiente di lavoro**: mobbing, discriminazioni, pressioni psicologiche

    ## FORMATO OUTPUT RICHIESTO
    Genera esattamente 5-8 frasi, seguendo questo formato:
    1. Una frase per ogni area critica identificata
    2. Frasi concise (max 15-20 parole)
    3. Terminologia tecnico-legale appropriata per CCNL
    4. Focus su aspetti verificabili e confrontabili con le norme contrattuali

    ## ESEMPI DI FRASI OTTIMALI
    - "Retribuzione oraria inferiore ai minimi stabiliti dal CCNL per la categoria professionale"
    - "Superamento sistematico dei limiti di straordinario senza adeguata compensazione"
    - "Mancata erogazione di tredicesima mensilità e gratifiche contrattuali previste"
    - "Violazione dei riposi giornalieri e settimanali obbligatori per legge"

    ## ISTRUZIONI SPECIFICHE
    1. **Priorità alta**: Identifica le violazioni più gravi prima
    2. **Linguaggio tecnico**: Usa terminologia specifica dei CCNL italiani
    3. **Specificità settoriale**: Se possibile, riferisciti al settore lavorativo specifico
    4. **Verificabilità**: Genera frasi che permettano confronti diretti con le clausole CCNL
    5. **Evita generalizzazioni**: Sii specifico sui diritti potenzialmente violati

    ## OUTPUT
    Genera le frasi di query ottimizzate, una per riga, precedute da un trattino:

    """
    return prompt